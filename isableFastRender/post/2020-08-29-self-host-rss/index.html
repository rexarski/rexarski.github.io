<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?port=1313&mindelay=10&v=2" data-no-instant defer></script>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="generator" content="Hugo 0.74.3" />



<link rel="apple-touch-icon" sizes="180x180" href="https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/favicon-16x16.png" />
<link rel="manifest" href="https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/site.webmanifest" />
<link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/safari-pinned-tab.svg" color="#8aa2d3" />
<link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/favicon.ico" />
<meta name="theme-color" content="#ffffff" />


<title>Self-host RSS - @qrui - interetro.xyz</title>


<meta name="author" content="Qiū Ruì" />


<meta name="description" content="Three steps to self-host miniflux and rsshub." />


<meta name="keywords" content="RSS, Self-host" />

<meta property="og:title" content="Self-host RSS" />
<meta property="og:description" content="Three steps to self-host miniflux and rsshub." />
<meta property="og:type" content="article" />
<meta property="og:url" content="//localhost:1313/post/2020-08-29-self-host-rss/" />
<meta property="og:image" content="//localhost:1313/img/og.png"/>
<meta property="article:published_time" content="2020-08-29T16:52:40+10:00" />
<meta property="article:modified_time" content="2020-08-29T16:52:40+10:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="//localhost:1313/img/og.png"/>

<meta name="twitter:title" content="Self-host RSS"/>
<meta name="twitter:description" content="Three steps to self-host miniflux and rsshub."/>




<link rel="stylesheet" href="/assets/css/fuji.min.css" />






</head>

<body data-theme="auto">
    <script data-cfasync="false">
  
  var fujiThemeData = localStorage.getItem('fuji_data-theme');
  
  if (!fujiThemeData) {
    localStorage.setItem('fuji_data-theme', 'auto');
  } else {
    
    if (fujiThemeData !== 'auto') {
      document.body.setAttribute('data-theme', fujiThemeData === 'dark' ? 'dark' : 'light');
    }
  }
</script>

    <header>
    <div class="container-lg clearfix">
        <div class="col-12 header">
            <a class="title-main" href="//localhost:1313/">@qrui - interetro.xyz</a>
            
            <span class="title-sub">Half data viz tinkering, half chaos.</span>
            
        </div>
    </div>
</header>

    <main>
        <div class="container-lg clearfix">
            
            <div class="col-12 col-md-9 float-left content">
                
<article>
    
    <h2 class="post-item post-title">
        <a href="//localhost:1313/post/2020-08-29-self-host-rss/">Self-host RSS</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2020-08-29</span><span><i class="iconfont icon-file-tray-sharp"></i>&nbsp;541 words</span><span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href="/tags/rss">RSS</a>&nbsp;<a href="/tags/self-host">Self-host</a>&nbsp;</span>

    </div>
    
    
    <div class="post-content markdown-body">
        <p><strong>Edit:</strong> According to Miniflux&rsquo;s <a href="https://miniflux.app/docs/services.html" target="_blank">documentation</a>, refreshing feeds is not possible with Reeder since no user information is sent. This means, I can only fetch something new when the server side refreshes (by default, it&rsquo;s once an hour), no matter what syncing frequency I set in the application. That&rsquo;s definitely a bummer. But I will keep an eye on this. Maybe it will eventually become a turning point when I finally quit information overdosing.</p>
<blockquote>
<p>Oceans rise, empires fall. RSS will be back.</p>
</blockquote>
<p>My subscription to Inoreader will expire soon. It&rsquo;s been a good year with it, but it was in fact less useful than I expected. From a retrospective point of view, the possibility to subscribe to more than 150 feeds might be the only feature that still seems attractive to me. But hey, why not more than 250, or 500? Although at the same time, I truly believe in the philosophy of &ldquo;less is more&rdquo; and &ldquo;I probably won&rsquo;t have enough time for that&rdquo;.</p>
<p>So, three steps to unleash the true power of a personal RSS subscription service.</p>
<ol>
<li>Set up a Ubuntu server.</li>
<li>(Optional) Deploy RSSHub on that server.</li>
<li>Deploy Miniflux on that server.</li>
</ol>
<h2 id="set-up-a-new-ubuntu-server">Set Up A New Ubuntu Server</h2>
<p>I&rsquo;m going to skip some introduction and simply paste the script here. Just follow Docker&rsquo;s <a href="https://docs.docker.com/engine/install/" target="_blank">documentation</a> to install docker and docker-compose on Ubuntu.</p>
<pre><code class="language-bash">apt-get update
apt-get dist-upgrade -y
update-alternatives --config editor

# set up docker repository
sudo apt-get remove docker docker-engine docker.io containerd runc
sudo apt-get install \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg-agent \
    software-properties-common
# Add Docker’s official GPG key:
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
sudo add-apt-repository \
   &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable&quot;

# install docker engine
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io
sudo docker run hello-world

# install docker-compose
sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.26.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
# if failed, create a symbolic link
# sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose
# verified
docker-compose --version
</code></pre>
<h2 id="deploy-rsshub">Deploy RSSHub</h2>
<p><a href="https://docs.rsshub.app/en/" target="_blank">RSSHub</a> is an open source RSS feed aggregator.</p>
<pre><code class="language-bash"># docker compose deployment
wget https://raw.githubusercontent.com/DIYgod/RSSHub/master/docker-compose.yml
docker volume create redis-data
docker-compose up -d

# update by removing old containers
# docker-compose down

# docker deployment
docker pull diygod/rsshub
docker run -d --name rsshub -p 1200:1200 diygod/rsshub

# stop container
# docker stop rsshub
# docker rm rsshub
# then repeat installation
</code></pre>
<h2 id="deploy-miniflux">Deploy Miniflux</h2>
<p>After reading a post from <a href="https://lukesingham.com/rss-feed-reader/" target="_blank">Luke Singham</a>, I&rsquo;ve decided pick <a href="https://github.com/miniflux/miniflux" target="_blank">Miniflux</a> as my self-hosted RSS service. It&rsquo;s simple, looks clean, and easy to deploy.</p>
<pre><code class="language-bash">mkdir miniflux
cd miniflux
vim docker-compose.yml
</code></pre>
<p>Remember to keep a record of both pairs of usernames and passwords.</p>
<pre><code class="language-yaml">version: &quot;3&quot;
services:
  miniflux:
    image: miniflux/miniflux:latest
    ports:
      - &quot;80:8080&quot;
    depends_on:
      - db
    environment:
      - DATABASE_URL=postgres://db_username:db_password@db/miniflux?sslmode=disable
      - RUN_MIGRATIONS=1
      - CREATE_ADMIN=1
      - ADMIN_USERNAME=miniflux_username
      - ADMIN_PASSWORD=miniflux_password
  db:
    image: postgres:latest
    environment:
      - POSTGRES_USER=db_username
      - POSTGRES_PASSWORD=db_password
    volumes:
      - miniflux-db:/var/lib/postgresql/data
volumes:
  miniflux-db:
</code></pre>
<pre><code class="language-bash">docker-compose up -d db
docker-compose up -d miniflux
</code></pre>
<p>So now I can access the Miniflux service by going to my ip address. Input the Miniflux username and password, then we are all good. In addition, I need to enable Fever api in Settings in order to read my feeds in other third party applications like <a href="https://reederapp.com/" target="_blank">Reeder</a>.</p>
<p>Note: the &ldquo;server&rdquo; blank to fill in should be my ip/url + <code>/fever</code>.</p>
    </div>
</article>


<div class="license markdown-body">
    <blockquote>
        <p>Unless otherwise noted, the content of this site is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"
               target="_blank">CC BY-NC-SA 4.0</a>.</p>
    </blockquote>
</div>


<div class="post-comment" data-comment="disqus">
    <span class="post-comment-notloaded">
        <i class="iconfont icon-chatbox-ellipses-sharp"></i>&nbsp;Load comments
    </span>
    <div id="disqus_thread" style="display: none;"></div>
    <script>
        function loadComment() {
            var commentArea = document.querySelector('.post-comment');
            var disqus_config = function () {
                this.page.url = '\/\/localhost:1313\/post\/2020-08-29-self-host-rss\/';
                this.page.identifier = '2020-08-29-self-host-rss';
            };
            var s = document.createElement('script');
            s.src = 'https://' + 'rexarski' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            document.querySelector('#disqus_thread').removeAttribute('style');
            (document.body || document.head).appendChild(s);
            document.querySelector('span.post-comment-notloaded').setAttribute('style', 'display: none;');
        }
    </script>
</div>


            </div>
            <aside class="col-12 col-md-3 float-left sidebar">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/now/">Now</a>
            </li>
            
            <li>
                <a href="/uses/">Uses</a>
            </li>
            
            <li>
                <a href="/archives/">Archives</a>
            </li>
            
            <li>
                <a href="/search/">Search</a>
            </li>
            
            <li>
                <a href="/index.xml">RSS</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/algorithm/">Algorithm</a>
            </span>
            
            <span>
                <a href="/tags/aws/">AWS</a>
            </span>
            
            <span>
                <a href="/tags/cleaning/">Cleaning</a>
            </span>
            
            <span>
                <a href="/tags/conda/">conda</a>
            </span>
            
            <span>
                <a href="/tags/design/">Design</a>
            </span>
            
            <span>
                <a href="/tags/ec2/">EC2</a>
            </span>
            
            <span>
                <a href="/tags/food/">Food</a>
            </span>
            
            <span>
                <a href="/tags/generative/">Generative</a>
            </span>
            
            <span>
                <a href="/tags/ggplot2/">ggplot2</a>
            </span>
            
            <span>
                <a href="/tags/graph-theory/">Graph Theory</a>
            </span>
            
            <span>
                <a href="/tags/ios/">iOS</a>
            </span>
            
            <span>
                <a href="/tags/k-means/">k-means</a>
            </span>
            
            <span>
                <a href="/tags/linux/">Linux</a>
            </span>
            
            <span>
                <a href="/tags/macos/">macOS</a>
            </span>
            
            <span>
                <a href="/tags/maths/">Maths</a>
            </span>
            
            <span>
                <a href="/tags/mysql/">MySQL</a>
            </span>
            
            <span>
                <a href="/tags/productivity/">Productivity</a>
            </span>
            
            <span>
                <a href="/tags/r/">R</a>
            </span>
            
            <span>
                <a href="/tags/rmarkdown/">Rmarkdown</a>
            </span>
            
            <span>
                <a href="/tags/rss/">RSS</a>
            </span>
            
            <span>
                <a href="/tags/rstudio/">RStudio</a>
            </span>
            
            <span>
                <a href="/tags/scraping/">Scraping</a>
            </span>
            
            <span>
                <a href="/tags/self-host/">Self-host</a>
            </span>
            
            <span>
                <a href="/tags/shortcut/">Shortcut</a>
            </span>
            
            <span>
                <a href="/tags/telegram/">Telegram</a>
            </span>
            
            <span>
                <a href="/tags/visualization/">Visualization</a>
            </span>
            
        </div>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="https://github.com/rexarski" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://twitter.com/rexarski" target="_blank"><span>Twitter</span></a>
            </li>
            
            <li>
                <a href="https://airavo.netlify.app" target="_blank"><span>Gallery</span></a>
            </li>
            
            <li>
                <a href="https://keybase.io/rexarski/chat" target="_blank"><span>Keybase</span></a>
            </li>
            
            <li>
                <a href="https://t.me/itsnopie" target="_blank"><span>Telegram</span></a>
            </li>
            
            <li>
                <a href="https://pinboard.in/u:rexarski" target="_blank"><span>Pinboard</span></a>
            </li>
            
        </ul>
    </div>
    
    
    
    <div class="sidebar-item sidebar-toc">
        <h3>TOC</h3>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#set-up-a-new-ubuntu-server">Set Up A New Ubuntu Server</a></li>
    <li><a href="#deploy-rsshub">Deploy RSSHub</a></li>
    <li><a href="#deploy-miniflux">Deploy Miniflux</a></li>
  </ul>
</nav>
    </div>
    
    
</aside>
        </div>
        <div class="btn">
    <div class="btn-toggle-mode">
        <i class="iconfont icon-contrast-sharp"></i>
    </div>
    <div class="btn-scroll-top">
        <i class="iconfont icon-chevron-up-circle-sharp"></i>
    </div>
</div>
    </main>

    <footer>
    <div class="container-lg clearfix">
        <div class="col-12 footer">
            <span>&copy; 2020 <a href="//localhost:1313/">Qiū Ruì</a> |
                Powered by <a href="https://github.com/amzrk2/hugo-theme-fuji/"
                   target="_blank">Fuji-v2</a> & <a href="https://gohugo.io/"
                   target="_blank">Hugo</a> </span>
        </div>
    </div>
</footer>
    
<script defer src="https://cdn.jsdelivr.net/combine/npm/medium-zoom@1.0.5,npm/lazysizes@5.2.2"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/components/prism-core.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/plugins/autoloader/prism-autoloader.min.js"></script>

<script defer src="/assets/js/fuji.min.js"></script>


</body>

</html>